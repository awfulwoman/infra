---
# Primary network interface (fallback)
network_netplan_interface: "{{ host_primary_interface | default('eth0') }}"

# Gateway for static configuration
network_netplan_gateway: "192.168.1.1"

# Netmask/CIDR for static configuration
network_netplan_subnet: "{{ host_ipv4_subnet | default(24) }}"

# Optional DNS nameservers (empty by default, systemd-resolved handles)
network_netplan_nameservers: [
  192.168.1.1
]

# Renderer
network_netplan_renderer: networkd

# Configuration mode: auto-detect based on host_ipv4
# - If host_ipv4 is defined and not empty: static
# - Otherwise: dhcp
network_netplan_mode: "{{ 'static' if (host_ipv4 | default('', true)) else 'dhcp' }}"

# Bridge configuration (opt-in, for VM host networking)
network_netplan_bridge_enable: false
network_netplan_bridge_name: "br0"
network_netplan_bridge_stp: true  # Spanning Tree Protocol
network_netplan_bridge_forward_delay: 4  # seconds

# Auto-apply via handler (disable for bridge configs - use manual netplan try)
network_netplan_auto_apply: "{{ not network_netplan_bridge_enable }}"
