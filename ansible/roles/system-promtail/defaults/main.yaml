# Promtail version
promtail_version: "2.9.17"

# Binary paths
promtail_binary_path: "/usr/local/bin/promtail"
promtail_config_path: "/etc/promtail"
promtail_config_file: "{{ promtail_config_path }}/promtail-config.yaml"
promtail_positions_path: "/var/lib/promtail"
promtail_positions_file: "{{ promtail_positions_path }}/positions.yaml"

# Loki server URL
promtail_loki_url: "https://loki.{{ domain_name }}/loki/api/v1/push"

# Log paths
promtail_docker_log_path: "/var/lib/docker/containers"

# Journald scraping
promtail_journald_enabled: true
promtail_journald_max_age: "12h"

# Systemd service
promtail_service_path: "/etc/systemd/system/promtail.service"

# Architecture mapping
promtail_arch_map:
  x86_64: "amd64"
  aarch64: "arm64"
  armv7l: "arm"

# Download URL (architecture determined at runtime)
promtail_arch: "{{ promtail_arch_map[ansible_architecture] | default('amd64') }}"
promtail_download_url: "https://github.com/grafana/loki/releases/download/v{{ promtail_version }}/promtail-linux-{{ promtail_arch }}.zip"
promtail_binary_name: "promtail-linux-{{ promtail_arch }}"
